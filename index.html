<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI 互動平台</title>
    <script src="https://cdn.jsdelivr.net/npm/react@18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/babel-standalone@7.22.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 font-sans">
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect } = React;

        const models = [
            {
                group: "OpenAI",
                items: [
                    { id: "gpt-4o-mini", name: "GPT-4o Mini (default)" },
                    { id: "gpt-4o", name: "GPT-4o" },
                    { id: "o1", name: "O1" },
                    { id: "o1-mini", name: "O1 Mini" },
                    { id: "o1-pro", name: "O1 Pro" },
                    { id: "o3", name: "O3" },
                    { id: "o3-mini", name: "O3 Mini" },
                    { id: "o4-mini", name: "O4 Mini" },
                    { id: "gpt-4.1", name: "GPT-4.1" },
                    { id: "gpt-4.1-mini", name: "GPT-4.1 Mini" },
                    { id: "gpt-4.1-nano", name: "GPT-4.1 Nano" },
                    { id: "gpt-4.5-preview", name: "GPT-4.5 Preview" },
                ],
            },
            {
                group: "Anthropic",
                items: [
                    { id: "claude-sonnet-4", name: "Claude Sonnet 4" },
                    { id: "claude-opus-4", name: "Claude Opus 4" },
                    { id: "claude-3-7-sonnet", name: "Claude 3.7 Sonnet" },
                    { id: "claude-3-5-sonnet", name: "Claude 3.5 Sonnet" },
                ],
            },
            {
                group: "DeepSeek",
                items: [
                    { id: "deepseek-chat", name: "DeepSeek Chat" },
                    { id: "deepseek-reasoner", name: "DeepSeek Reasoner" },
                ],
            },
            {
                group: "Google",
                items: [
                    { id: "gemini-2.0-flash", name: "Gemini 2.0 Flash" },
                    { id: "gemini-1.5-flash", name: "Gemini 1.5 Flash" },
                    { id: "google/gemma-2-27b-it", name: "Gemma 2 27B IT" },
                ],
            },
            {
                group: "Meta Llama",
                items: [
                    { id: "meta-llama/Meta-Llama-3.1-8B-Instruct-Turbo", name: "Llama 3.1 8B Instruct Turbo" },
                    { id: "meta-llama/Meta-Llama-3.1-70B-Instruct-Turbo", name: "Llama 3.1 70B Instruct Turbo" },
                    { id: "meta-llama/Meta-Llama-3.1-405B-Instruct-Turbo", name: "Llama 3.1 405B Instruct Turbo" },
                ],
            },
            {
                group: "Mistral",
                items: [
                    { id: "mistral-large-latest", name: "Mistral Large Latest" },
                    { id: "pixtral-large-latest", name: "Pixtral Large Latest" },
                    { id: "codestral-latest", name: "Codestral Latest" },
                ],
            },
            {
                group: "xAI",
                items: [
                    { id: "grok-beta", name: "Grok Beta" },
                ],
            },
        ];

        function App() {
            const [activeTab, setActiveTab] = useState("chat");
            const [selectedModel, setSelectedModel] = useState("gpt-4o-mini");
            const [inputText, setInputText] = useState("");
            const [imageFile, setImageFile] = useState(null);
            const [response, setResponse] = useState("");
            const [isLoading, setIsLoading] = useState(false);
            const [voice, setVoice] = useState("en-US-Wavenet-A");
            const [language, setLanguage] = useState("en-US");
            const [pitch, setPitch] = useState(0);
            const [speakingRate, setSpeakingRate] = useState(1);

            const handleTabChange = (tab) => {
                setActiveTab(tab);
                setResponse("");
                setImageFile(null);
                setInputText("");
            };

            const handleImageDrop = (e) => {
                e.preventDefault();
                const file = e.dataTransfer.files[0];
                if (file && file.type.startsWith("image/")) {
                    setImageFile(file);
                    setResponse(`已上傳圖片: ${file.name}`);
                }
            };

            const handleImageUpload = (e) => {
                const file = e.target.files[0];
                if (file && file.type.startsWith("image/")) {
                    setImageFile(file);
                    setResponse(`已上傳圖片: ${file.name}`);
                }
            };

            const handleSubmit = async () => {
                setIsLoading(true);
                setResponse("");
                try {
                    if (activeTab === "chat") {
                        // Simulated chat API call
                        setResponse(`來自 ${selectedModel} 的回應: ${inputText}`);
                    } else if (activeTab === "image-recognition") {
                        if (imageFile) {
                            // Simulated image recognition API call
                            setResponse(`圖片辨識結果 (${selectedModel}): 圖片內容描述...`);
                        } else {
                            setResponse("請上傳圖片以進行辨識");
                        }
                    } else if (activeTab === "image-generation") {
                        // Simulated image generation API call
                        setResponse(`已生成圖片 (${selectedModel}): 圖片描述 - ${inputText}`);
                    } else if (activeTab === "text-to-speech") {
                        // Simulated text-to-speech API call
                        setResponse(`已生成語音 (${selectedModel}): 語音輸出 - ${inputText}, 語音: ${voice}, 語言: ${language}, 音高: ${pitch}, 語速: ${speakingRate}`);
                    }
                } catch (error) {
                    setResponse("發生錯誤，請稍後再試");
                } finally {
                    setIsLoading(false);
                }
            };

            return (
                <div className="min-h-screen flex flex-col">
                    <header className="bg-white shadow p-4 flex justify-between items-center">
                        <div className="text-2xl font-bold">☀️ AI 互動平台</div>
                    </header>
                    <main className="flex-grow flex flex-col items-center p-4">
                        <div className="w-full max-w-2xl">
                            <div className="flex border-b border-gray-300 mb-4">
                                <button
                                    className={`px-4 py-2 ${activeTab === "chat" ? "border-b-2 border-blue-500" : ""}`}
                                    onClick={() => handleTabChange("chat")}
                                >
                                    聊天
                                </button>
                                <button
                                    className={`px-4 py-2 ${activeTab === "image-recognition" ? "border-b-2 border-blue-500" : ""}`}
                                    onClick={() => handleTabChange("image-recognition")}
                                >
                                    圖片辨識
                                </button>
                                <button
                                    className={`px-4 py-2 ${activeTab === "image-generation" ? "border-b-2 border-blue-500" : ""}`}
                                    onClick={() => handleTabChange("image-generation")}
                                >
                                    圖片生成
                                </button>
                                <button
                                    className={`px-4 py-2 ${activeTab === "text-to-speech" ? "border-b-2 border-blue-500" : ""}`}
                                    onClick={() => handleTabChange("text-to-speech")}
                                >
                                    文字轉語音
                                </button>
                            </div>
                            <div className="bg-white p-4 rounded-lg shadow">
                                <select
                                    className="w-full p-2 mb-4 border rounded"
                                    value={selectedModel}
                                    onChange={(e) => setSelectedModel(e.target.value)}
                                >
                                    {models.map((group) => (
                                        <optgroup key={group.group} label={group.group}>
                                            {group.items.map((model) => (
                                                <option key={model.id} value={model.id}>
                                                    {model.name}
                                                </option>
                                            ))}
                                        </optgroup>
                                    ))}
                                </select>
                                {activeTab === "text-to-speech" && (
                                    <div className="mb-4">
                                        <label className="block mb-2">語音選擇:</label>
                                        <select
                                            className="w-full p-2 border rounded"
                                            value={voice}
                                            onChange={(e) => setVoice(e.target.value)}
                                        >
                                            <option value="en-US-Wavenet-A">en-US-Wavenet-A</option>
                                            <option value="en-US-Wavenet-B">en-US-Wavenet-B</option>
                                            <option value="zh-TW-Wavenet-A">zh-TW-Wavenet-A</option>
                                            {/* Add more voices as needed */}
                                        </select>
                                        <label className="block mt-4 mb-2">語言:</label>
                                        <select
                                            className="w-full p-2 border rounded"
                                            value={language}
                                            onChange={(e) => setLanguage(e.target.value)}
                                        >
                                            <option value="en-US">英語 (美國)</option>
                                            <option value="zh-TW">中文 (台灣)</option>
                                            {/* Add more languages as needed */}
                                        </select>
                                        <label className="block mt-4 mb-2">音高: {pitch}</label>
                                        <input
                                            type="range"
                                            min="-20"
                                            max="20"
                                            value={pitch}
                                            onChange={(e) => setPitch(e.target.value)}
                                            className="w-full"
                                        />
                                        <label className="block mt-4 mb-2">語速: {speakingRate}</label>
                                        <input
                                            type="range"
                                            min="0.25"
                                            max="4"
                                            step="0.25"
                                            value={speakingRate}
                                            onChange={(e) => setSpeakingRate(e.target.value)}
                                            className="w-full"
                                        />
                                    </div>
                                )}
                                <div
                                    className="border-2 border-dashed p-4 mb-4"
                                    onDrop={handleImageDrop}
                                    onDragOver={(e) => e.preventDefault()}
                                >
                                    <textarea
                                        className="w-full p-2 border rounded"
                                        rows="4"
                                        placeholder={
                                            activeTab === "image-recognition"
                                                ? "拖曳圖片至此或輸入問題"
                                                : "輸入您的問題或描述..."
                                        }
                                        value={inputText}
                                        onChange={(e) => setInputText(e.target.value)}
                                        disabled={activeTab === "image-recognition" && imageFile}
                                    ></textarea>
                                    {activeTab === "image-recognition" && (
                                        <input
                                            type="file"
                                            accept="image/*"
                                            className="mt-2"
                                            onChange={handleImageUpload}
                                        />
                                    )}
                                </div>
                                <button
                                    className="w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600"
                                    onClick={handleSubmit}
                                    disabled={isLoading}
                                >
                                    {isLoading ? "正在生成..." : "發送"}
                                </button>
                                {response && (
                                    <div className="mt-4 p-4 bg-gray-100 rounded">
                                        {response}
                                    </div>
                                )}
                            </div>
                        </div>
                    </main>
                    <footer className="bg-white p-4 text-center">
                        <p>© 2025 AI 互動平台</p>
                    </footer>
                </div>
            );
        }

        ReactDOM.render(<App />, document.getElementById("root"));
    </script>
</body>
</html>
